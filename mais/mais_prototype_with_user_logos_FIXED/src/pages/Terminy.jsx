import React, {useState, useEffect} from 'react'
export default function Terminy(){ const [mine,setMine]=useState(()=>JSON.parse(localStorage.getItem('mais_my_dates')||'[]')); const [available,setAvailable]=useState(()=>JSON.parse(localStorage.getItem('mais_avail_dates')|| JSON.stringify([{id:1,sub:'Programovanie 1',date:'2026-01-15',place:'A-101'},{id:2,sub:'Matematika 1',date:'2026-01-16',place:'B-202'}]))); useEffect(()=>localStorage.setItem('mais_my_dates',JSON.stringify(mine)),[mine]); useEffect(()=>localStorage.setItem('mais_avail_dates',JSON.stringify(available)),[available]); function register(id){ const d=available.find(a=>a.id===id); if(d){ setMine([...mine,d]); setAvailable(available.filter(a=>a.id!==id)) }} return (<div><div className='card'><h3>Moje termíny</h3>{mine.length===0? <div className='small'>Nemáte prihlásené termíny.</div> : <table className='table'><thead><tr><th>Predmet</th><th>Dátum</th><th>Miestnosť</th></tr></thead><tbody>{mine.map(m=>(<tr key={m.id}><td>{m.sub}</td><td>{m.date}</td><td>{m.place}</td></tr>))}</tbody></table>}</div><div className='card' style={{marginTop:12}}><h3>Dostupné termíny</h3>{available.length===0? <div className='small'>Žiadne voľné termíny</div> : <table className='table'><thead><tr><th>Predmet</th><th>Dátum</th><th>Miestnosť</th><th></th></tr></thead><tbody>{available.map(a=>(<tr key={a.id}><td>{a.sub}</td><td>{a.date}</td><td>{a.place}</td><td><button className='btn' onClick={()=>register(a.id)}>Prihlásiť sa</button></td></tr>))}</tbody></table>}</div></div>)}