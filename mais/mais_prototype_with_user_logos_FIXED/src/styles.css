/* =========================
   ZÁKLAD
   ========================= */
:root{
  --bg:#fbfbfb;
  --card:#ffffff;
  --surface:#ffffff;
  --text:#0f172a;
  --muted:#6b7280;
  --light:#f5f5f5;
  --border:#e6e6e6;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:Inter,system-ui,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:background .2s ease,color .2s ease;
}

.full-center{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(180deg,#fff,#fbfbfb);
}

/* =========================
   PALETA (LIGHT/DARK cez data-theme)
   ========================= */
:root[data-theme="light"]{
  --bg:#F8FAFC;
  --surface:#FFFFFF;
  --card:#FFFFFF;
  --text:#0F172A;
  --muted:#475569;
  --primary:#1E3A8A;        /* modrá */
  --primary-contrast:#ffffff;
  --accent:#F6B400;         /* zlatá */
  --border:#E2E8F0;
}
:root[data-theme="dark"]{
  --bg:#0B0C0F;
  --surface:#111318;
  --card:#141720;
  --text:#ECF0F3;
  --muted:#A7B0BE;
  --primary:#1E3A8A;
  --primary-contrast:#ffffff;
  --accent:#F6B400;
  --border:rgba(255,255,255,0.08);
}

/* =========================
   KOMPONENTY
   ========================= */
.card{
  background:var(--card);
  padding:16px;
  border-radius:10px;
  border:1px solid var(--border);
  transition:background .2s ease,color .2s ease;
}

.btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:12px;
  border:1px solid var(--border);
  background:var(--surface); color:var(--text);
  cursor:pointer; transition:.15s ease;
}
.btn.primary{
  background:var(--primary);
  color:var(--primary-contrast);
  border-color:color-mix(in oklab,var(--primary) 60%,var(--border));
}

.input,textarea,select{
  padding:8px; border:1px solid var(--border);
  border-radius:6px; width:100%;
}

.small{ color:var(--muted); font-size:13px; }
.field{ margin-bottom:8px; }

.login-card{
  background:var(--card); padding:28px; border-radius:12px;
  box-shadow:0 6px 20px rgba(0,0,0,0.06);
  width:420px; border:1px solid var(--border);
}

/* =========================
   LAYOUT
   ========================= */
.app-shell{
  display:grid;
  grid-template-columns:260px 1fr;
  grid-template-rows:64px 1fr;
  grid-template-areas:"sidebar topbar" "sidebar main";
  height:100vh;
}
.sidebar{
  grid-area:sidebar; background:var(--surface);
  border-right:1px solid var(--border);
  padding:16px; position:sticky; top:0; height:100vh;
}
.topbar{
  grid-area:topbar;
  backdrop-filter:blur(8px);
  background:color-mix(in oklab,var(--bg) 80%, transparent);
  border-bottom:1px solid var(--border);
  display:flex; align-items:center; gap:12px;
  padding:0 16px; position:sticky; top:0; z-index:10;
}
.main{ grid-area:main; padding:24px; overflow:auto; }

@media (max-width:960px){
  .app-shell{
    grid-template-columns:1fr;
    grid-template-rows:56px 1fr;
    grid-template-areas:"topbar" "main";
  }
  .sidebar{ display:none; }
  .main{ padding:16px; }
}

/* =========================
   NAVIGÁCIA
   ========================= */
.nav-section{ margin-top:12px; }
.nav-item{
  display:flex; gap:10px; align-items:center;
  padding:10px 12px; border-radius:12px;
  color:var(--text); text-decoration:none;
  border:1px solid transparent; transition:.15s ease;
}
.nav-item:hover{
  background:color-mix(in oklab,var(--primary) 8%, transparent);
  border-color:var(--border);
}
.nav-item.active{
  background:color-mix(in oklab,var(--primary) 14%, transparent);
  border-color:color-mix(in oklab,var(--primary) 35%, var(--border));
}

/* menu/tab stavy pre modro-zlatú */
.menu button.active{
  background:linear-gradient(90deg,#fff,#fff);
  color:var(--primary);
  font-weight:700;
  border-bottom:3px solid var(--accent);
}
.tab{ padding:8px 12px; border-radius:8px; border:1px solid var(--border); background:var(--card); cursor:pointer; }
.tab.active{
  background:linear-gradient(90deg,#fff,#fff);
  border:1px solid var(--accent);
  font-weight:700; color:var(--primary);
}

/* =========================
   LOGO
   ========================= */
.logo{ display:flex; align-items:center; gap:10px; margin-bottom:14px; }
.logo-img{ width:202px; height:auto; display:block; }   /* +20% */
.logo-mini{ height:28px; width:auto; display:block; }

/* switch svetlá/tmavá verzia loga */
.logo-dark{ display:none; }
:root[data-theme="dark"] .logo-dark{ display:block; }
:root[data-theme="dark"] .logo-light{ display:none; }

/* dekoratívne značky v logu v zlatej */
.logo .mark,
.logo-big .mark{
  background:var(--accent) !important;
  color:#fff; border-radius:8px;
}
.logo-big{ display:flex; align-items:center; gap:12px; margin-bottom:12px; }
.logo-big .title{ font-size:20px; font-weight:800; }

/* =========================
   HEADER / AVATAR
   ========================= */
.header{ display:flex; align-items:center; justify-content:space-between;
  padding:12px 20px; background:var(--card); border-bottom:1px solid var(--border); }
.header-left{ display:flex; align-items:center; gap:12px; }
.header-right{ display:flex; align-items:center; gap:12px; }

.avatar-frame{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:12px;
}

/* =========================
   PROFIL DROPDOWN
   ========================= */
.profile-pop{ position:relative; }
.profile-panel{
  position:absolute; right:0; top:44px;
  background:var(--card); border:1px solid var(--border);
  padding:12px; border-radius:8px; min-width:240px;
  box-shadow:0 4px 12px rgba(0,0,0,0.06); z-index:30;
}

/* =========================
   ROZVRH (dni vľavo, časy hore, 45-min)
   ========================= */

/* obal - horizontálny scroll pri menších displejoch + štýlový scrollbar */
.timetable-wrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 4px;

  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: var(--primary) var(--surface);
}
/* Chrome, Edge, Safari */
.timetable-wrap::-webkit-scrollbar { height: 10px; }
.timetable-wrap::-webkit-scrollbar-track {
  background: var(--surface);
  border-radius: 10px;
}
.timetable-wrap::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, var(--primary), var(--accent));
  border-radius: 10px;
}
.timetable-wrap::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
          90deg,
          color-mix(in oklab, var(--primary) 80%, var(--accent)),
          var(--accent)
  );
}
.timetable-wrap::-webkit-scrollbar-corner { background: transparent; }

/* pevný grid: 1 stĺpec na dni + premenný počet časov (z JS: --cols) */
.timetable{
  display:grid;
  grid-template-columns: 120px repeat(var(--cols), minmax(90px, 1fr));
  gap:8px; margin-top:12px;
}

.tcell{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:8px;
  padding:8px; min-height:44px;
  transition:background .2s ease, color .2s ease;
}

/* hlavičky s časmi */
.tcell-head{
  background:color-mix(in oklab, var(--primary) 8%, var(--card));
  border-color:color-mix(in oklab, var(--primary) 25%, var(--border));
  color:var(--text); text-align:center;
  font-weight:600; font-size:12px;
}
.tcell-corner{
  background:var(--surface); border:1px solid var(--border);
  color:var(--text); font-weight:600; text-align:center;
}
.t-time { font-weight:600; font-size:12px; white-space:nowrap; }

/* stĺpec dní */
.tcell-day{
  background:color-mix(in oklab, var(--primary) 6%, var(--surface));
  border:1px solid var(--border);
  font-weight:700; text-align:center; color:var(--text);
}

/* bunky */
.tcell-empty{
  display:flex; align-items:center; justify-content:center;
  color:var(--muted); background:var(--card);
}
.tcell-span{ display:flex; align-items:center; padding:0; }

/* blok predmetu */
.tblock{
  background:linear-gradient(135deg, var(--primary), color-mix(in oklab, var(--accent) 25%, var(--primary)));
  color:var(--primary-contrast);
  border:1px solid color-mix(in oklab, var(--accent) 50%, var(--primary));
  border-left:6px solid var(--accent);
  border-radius:8px; padding:8px; width:100%;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
  transition:transform .15s ease, box-shadow .15s ease;
}
.tblock:hover{ transform:translateY(-2px); box-shadow:0 4px 10px rgba(0,0,0,.1); }
.tblock-title{ font-weight:700; font-size:14px; }
.tblock-room{ font-weight:500; font-size:12px; opacity:.9; margin-top:4px; }

/* mobil úpravy rozvrhu */
@media (max-width:900px){
  .timetable{ grid-template-columns:80px repeat(var(--cols), minmax(70px, 1fr)); font-size:12px; }
  .tblock-title{ font-size:12px; }
  .tblock-room{ font-size:10px; }
}

/* =========================
   SELECT (semester dropdown)
   ========================= */
select.input{
  appearance:none;
  background-color:var(--surface);
  border:1px solid var(--border);
  border-radius:8px;
  padding:8px 32px 8px 10px;
  font-size:14px;
  font-family:inherit;
  color:var(--text);
  cursor:pointer;
  transition:all .2s ease;
  background-image:
          linear-gradient(45deg, transparent 50%, var(--accent) 50%),
          linear-gradient(135deg, var(--accent) 50%, transparent 50%);
  background-position:
          calc(100% - 18px) calc(1em + 2px),
          calc(100% - 13px) calc(1em + 2px);
  background-size:5px 5px, 5px 5px;
  background-repeat:no-repeat;
}
select.input:hover{
  border-color:color-mix(in oklab, var(--primary) 40%, var(--border));
  box-shadow:0 0 0 3px color-mix(in oklab, var(--primary) 10%, transparent);
}
select.input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 25%, transparent);
}
select.input option{
  background:var(--surface);
  color:var(--text);
  font-size:14px;
  padding:6px;
}

/* Pilulky (badges) pre kredit/ZVOLENÉ) */
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; border-radius:999px;
  font-size:12px; font-weight:700;
  border:1px solid var(--border);
}
.pill-gold{
  background: color-mix(in oklab, var(--accent) 22%, var(--card));
  border-color: color-mix(in oklab, var(--accent) 45%, var(--border));
  color: var(--text);
}
.pill-blue{
  background: color-mix(in oklab, var(--primary) 18%, var(--card));
  border-color: color-mix(in oklab, var(--primary) 45%, var(--border));
  color: var(--text);
}

/* keď je karta označená checkboxom */
.subject-card--checked{
  outline: 2px solid color-mix(in oklab, var(--accent) 40%, transparent);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 14%, transparent);
}

/* sekundárne menu v sidebare pre Zápis */
.nav-group > .nav-item {
  width: 100%;
  text-align: left;
}

.submenu {
  margin: 6px 0 10px 8px;
  padding-left: 10px;
  border-left: 2px solid color-mix(in oklab, var(--primary) 25%, var(--border));
  display: grid;
  gap: 6px;
}
.sub-item {
  display: block;
  padding: 8px 10px;
  border-radius: 10px;
  color: var(--text);
  text-decoration: none;
  border: 1px solid transparent;
  font-size: 14px;
}
.sub-item:hover {
  background: color-mix(in oklab, var(--primary) 8%, var(--card));
  border-color: var(--border);
}
.sub-item.active {
  background: color-mix(in oklab, var(--primary) 14%, var(--card));
  border-color: color-mix(in oklab, var(--primary) 35%, var(--border));
  font-weight: 700;
}

.nav-group > .nav-item {
  width: 100%;
  text-align: left;
}

.submenu {
  margin: 6px 0 10px 8px;
  padding-left: 10px;
  border-left: 2px solid color-mix(in oklab, var(--primary) 25%, var(--border));
  display: grid;
  gap: 6px;
}
.sub-item {
  display: block;
  padding: 8px 10px;
  border-radius: 10px;
  color: var(--text);
  text-decoration: none;
  border: 1px solid transparent;
  font-size: 14px;
}
.sub-item:hover {
  background: color-mix(in oklab, var(--primary) 8%, var(--card));
  border-color: var(--border);
}
.sub-item.active {
  background: color-mix(in oklab, var(--primary) 14%, var(--card));
  border-color: color-mix(in oklab, var(--primary) 35%, var(--border));
  font-weight: 700;
}

/* ===== Studium layout polish ===== */
.studium-wrap { display:grid; gap:12px; }

.section-head{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  margin-bottom:8px;
}
.subhead{ font-weight:700; margin-top:4px; }

.section-divider{
  height:1px; background:var(--border);
  margin:12px 0;
}

/* KPI cards */
.kpi-grid{
  display:grid; gap:10px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}
.kpi{
  background: var(--card);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
}
.kpi-label{ font-size:12px; color:var(--muted); }
.kpi-value{ font-weight:800; font-size:20px; margin-top:2px; }

/* Definition-like grid for info */
.stat-grid{
  display:grid; gap:8px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (max-width: 720px){ .stat-grid{ grid-template-columns: 1fr; } }
.stat{
  display:grid; grid-template-columns: 200px 1fr; gap:10px;
  padding:8px; border:1px solid var(--border); border-radius:10px; background:var(--surface);
}
.stat-k{ color:var(--muted); font-size:13px; }
.stat-v{ font-weight:600; }

/* Compact tables + pills reuse */
.table-compact th, .table-compact td{ padding:6px 8px; }
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:3px 8px; border-radius:999px; font-size:12px; font-weight:700;
  border:1px solid var(--border); background: var(--surface); color: var(--text);
}
.pill-gold{
  background: color-mix(in oklab, var(--accent) 18%, var(--card));
  border-color: color-mix(in oklab, var(--accent) 40%, var(--border));
}
.pill-blue{
  background: color-mix(in oklab, var(--primary) 14%, var(--card));
  border-color: color-mix(in oklab, var(--primary) 45%, var(--border));
}

/* Mini segmented switch (stipendiá) */
.seg-mini{ display:flex; gap:6px; }
.seg-mini-btn{
  padding:8px 10px; border-radius:10px;
  background:var(--card); border:1px solid var(--border); cursor:pointer;
}
.seg-mini-btn.is-active{
  background: color-mix(in oklab, var(--primary) 8%, var(--card));
  border-color: color-mix(in oklab, var(--primary) 40%, var(--border));
  font-weight:700;
}

/* Semester select width */
.select-sem{ width: 240px; }
@media (max-width: 520px){ .select-sem{ width: 100%; } }

/* Empty note */
.empty-note{
  padding:10px; border:1px dashed var(--border);
  border-radius:10px; background: var(--surface); color: var(--muted);
}

/* Zlatý akcent */
.gold-text { color: var(--accent); font-weight: 700; }
.kpi.gold { border-color: color-mix(in oklab, var(--accent) 50%, var(--border)); }
.kpi-value.gold { color: var(--accent); }

/* Štipendiá - zlaté prepínače */
.seg-mini-btn {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s ease;
}
.seg-mini-btn:hover {
  border-color: color-mix(in oklab, var(--accent) 40%, var(--border));
  background: color-mix(in oklab, var(--accent) 15%, var(--card));
  color: var(--text);
}
.seg-mini-btn.is-active {
  background: color-mix(in oklab, var(--accent) 25%, var(--card));
  border-color: color-mix(in oklab, var(--accent) 50%, var(--border));
  color: var(--text);
  font-weight: 700;
  box-shadow: 0 0 6px rgba(246, 180, 0, 0.4);
}

/* Platby sekcia */
.platby-card {
  border-left: 4px solid color-mix(in oklab, var(--accent) 70%, var(--border));
  background: color-mix(in oklab, var(--accent) 3%, var(--card));
}
.platby-card h3 {
  color: var(--accent);
}
.platby-table th, .platby-table td {
  padding: 8px 10px;
}
.platby-table th {
  background: color-mix(in oklab, var(--accent) 8%, var(--surface));
  color: var(--text);
  font-weight: 700;
  border-bottom: 2px solid var(--border);
}
.platby-table tr:nth-child(even) td {
  background: color-mix(in oklab, var(--accent) 4%, var(--card));
}
